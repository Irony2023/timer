import turtle
import time
import math
import pygame

# Initialize pygame for sound
pygame.init()

# Create the main window
root = turtle.Screen()
root.title("Clock Timer")

# Set up the turtle
t = turtle.Turtle()
t.speed(0)
t.penup()
t.goto(0, -180)
t.pendown()

# Draw clock face
t.circle(180)
t.penup()

# Define function to update the timer and move the hands
def update_timer(seconds):
    minutes = seconds // 60
    seconds %= 60
    timer_text.set(f"{minutes:02}:{seconds:02}")

    # Calculate hand positions
    second_angle = 360 - (seconds / 60 * 360)  # Angle in degrees
    minute_angle = 360 - (minutes / 60 * 360) - (seconds / 60 * 6)

    # Move the hands
    move_hand(second_hand, second_angle, 150)
    move_hand(minute_hand, minute_angle, 100)

def move_hand(hand, angle, length):
    hand.setheading(angle)
    hand.penup()
    hand.goto(0, 0)
    hand.pendown()
    hand.forward(length)

# Define function to start the timer
def start_timer():
    total_seconds = 2 * 60  # 2 minutes
    while total_seconds > 0:
        update_timer(total_seconds)
        root.update()
        time.sleep(1)
        total_seconds -= 1
    
    # Play sound
    pygame.mixer.music.load("done_sound.mp3")  # Replace with your sound file
    pygame.mixer.music.play()

# Timer text variable
timer_text = turtle.Turtle()
timer_text.penup()
timer_text.goto(0, 200)
timer_text.pendown()

# Create clock hands
second_hand = turtle.Turtle()
second_hand.color("red")
second_hand.speed(0)
minute_hand = turtle.Turtle()
minute_hand.color("blue")
minute_hand.speed(0)

# Create a start button
start_button = turtle.Turtle()
start_button.penup()
start_button.goto(0, -220)
start_button.pendown()
start_button.hideturtle()
start_button.write("Start", align="center", font=("Arial", 16, "normal"))

# Set up the screen
root.update()
root.mainloop()
